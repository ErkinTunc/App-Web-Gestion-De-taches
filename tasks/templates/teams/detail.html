{% extends 'base.html' %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    {% block body %}
    <main class="container my-5">
      <div class="card shadow-sm p-4">
        <!-- Team Name -->
        <h1 class="mb-4">Team: {{ team.name }}</h1>

        <!-- Members as inline elements | could be changed later if Ä± want to give more info on the users -->
        <h3>Members:</h3>
        {% if team.users.all %}
        <div class="mb-4">
          {% for user in team.users.all %}
            <a href="{% url 'task:detail_user' user.id %}" class="btn btn-outline-primary me-2 mb-2">
                {{ user.username }} (ID: {{ user.id }})
            </a>
          {% endfor %}
        </div>
        {% else %}
        <p class="text-muted">No users in this team.</p>
        {% endif %}

        <!-- Tasks -->
        <h3>Tasks Assigned to This Team:</h3>
        <ul class="list-group">
          {% for task in team.tasks.all %}
            <a href="{% url 'task:detail_task' task.id %}" class="btn btn-outline-primary me-2 mb-2">
                {{ task.title }} (Status {{task.status}} | ID: {{ task.id }})
            </a>
          {% empty %}
          <li class="list-group-item text-muted">
            No tasks assigned to this team.
          </li>
          {% endfor %}
        </ul>

        <!-- Update & Delete Buttons -->
        <div class="mt-4">
          <a href="{% url 'task:update_team' team.id %}" class="btn btn-warning me-2">Update</a>
          <a href="{% url 'task:delete_team' team.id %}" class="btn btn-danger">Delete</a>
        </div>

      </div>
    </main>
    {% endblock %}
  </body>
</html>
